<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <link rel="shortcut icon" href="assets/imgs/logo_sem_fundo.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <div class="container">
        <main class="content">
            <div style="text-align: right; margin-bottom: 30px;">
                <a href="index.html" style="
                    background-color: var(--primary-blue);
                    color: white; 
                    padding: 12px 25px; 
                    border-radius: 6px; 
                    font-weight: 600; 
                    text-decoration: none; 
                    display: inline-block; 
                    transition: background-color 0.3s; 
                " onmouseover="this.style.backgroundColor='var(--secondary-blue)'"
                    onmouseout="this.style.backgroundColor='var(--primary-blue)'">
                    <i class="fas fa-arrow-left"></i> Voltar ao Site
                </a>
            </div>

            <div id="adminLogin" class="admin-login-card">
                <h1>Acesso Administrativo</h1>
                <form id="adminLoginForm">
                    <label for="adminPassword">Senha de Acesso:</label>
                    <input type="password" id="adminPassword" required>
                    <button type="submit">Entrar</button>
                </form>
            </div>

            <div class="admin-content" style="display: none;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px;">
                    <h1 style="margin: 0;">Painel de <span>Administração</span></h1>
                    <button id="logoutBtn" style="background-color: #dc3545;">
                        <i class="fas fa-sign-out-alt"></i> Sair
                    </button>
                </div>

                <div class="admin-content-card">
                    <h2>Gerenciar Postagens</h2>
                    <button id="addPostBtn" class="admin-action-btn">Adicionar Nova Postagem</button>

                    <div id="postList" class="post-list">
                        </div>
                </div>

                <div id="postForm" class="form-card" style="display: none;">
                    <h3>Editor de Postagem</h3>
                    <form id="postEditorForm">
                        <label for="postTitle">Título:</label>
                        <input type="text" id="postTitle" required>

                        <label for="postAuthor">Autor:</label>
                        <input type="text" id="postAuthor" required>

                        <label for="postDate">Data de Publicação:</label>
                        <input type="date" id="postDate" required>

                        <label for="postImage">URL da Imagem de Capa (Opcional):</label>
                        <input type="url" id="postImage">
                        
                        <label for="postShortDesc">Resumo Curto (Máx 120 caracteres):</label>
                        <textarea id="postShortDesc" rows="2" maxlength="120" required></textarea>

                        <label for="postContent">Conteúdo do Post (Editor de Texto):</label>
                        
                        <div class="toolbar" style="margin-bottom: 15px; display: flex; flex-wrap: wrap; gap: 8px;">
                            <button type="button" class="format-btn" data-format="bold" title="Negrito">
                                <i class="fas fa-bold"></i>
                            </button>
                            <button type="button" class="format-btn" data-format="italic" title="Itálico">
                                <i class="fas fa-italic"></i>
                            </button>
                            <button type="button" class="format-btn" data-format="underline" title="Sublinhado">
                                <i class="fas fa-underline"></i>
                            </button>
                            <button type="button" class="format-btn" data-format="heading" title="Título Secundário (##)">
                                <i class="fas fa-heading"></i>
                            </button>
                            <button type="button" class="format-btn" data-format="blockquote" title="Citação">
                                <i class="fas fa-quote-right"></i>
                            </button>
                            <button type="button" class="format-btn" data-format="link" title="Link">
                                <i class="fas fa-link"></i>
                            </button>
                            <button type="button" class="format-btn" data-format="media" title="Inserir Mídia (Imagem, Carrossel, Vídeo)">
                                <i class="fas fa-photo-video"></i>
                            </button>
                            <button type="button" class="format-btn" data-format="hr" title="Linha Horizontal">
                                <i class="fas fa-minus"></i>
                            </button>
                            <button type="button" class="format-btn" data-format="custom-style" title="Estilo/CSS Personalizado">
                                <i class="fas fa-palette"></i>
                            </button>
                        </div>
                        <textarea id="postContent" rows="15" required></textarea>

                        <label for="postTags">Tags (Separadas por vírgula):</label>
                        <input type="text" id="postTags" placeholder="tecnologia, inovação, mercado">

                        <button type="submit">Salvar Postagem</button>
                        <button type="button" id="cancelEditBtn"
                            style="background-color: #6c757d;">Cancelar</button>
                    </form>
                </div>

                <div class="suggestion-list-card">
                    <h2>Sugestões Recebidas</h2>
                    <div id="suggestionList" class="post-list">
                        </div>
                </div>

                <div class="admin-content-card">
                    <h2>Gerenciar Galeria de Imagens</h2>
                    <button id="addImageBtn" class="admin-action-btn">Adicionar Nova Imagem</button>

                    <div id="galleryList" class="post-list">
                        </div>
                </div>

                <div id="galleryForm" class="form-card" style="display: none;">
                    <h3>Editor de Imagem da Galeria</h3>
                    <form id="galleryEditorForm">
                        <input type="hidden" id="imageId">
                        <label for="imageUrl">URL da Imagem (Ex: https://seusite.com/imagem.jpg):</label>
                        <input type="url" id="imageUrl" required>

                        <label for="imageAltText">Texto Alternativo (Alt Text):</label>
                        <input type="text" id="imageAltText" required>

                        <button type="submit">Salvar Imagem</button>
                        <button type="button" id="cancelImageEditBtn"
                            style="background-color: #6c757d;">Cancelar</button>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <div id="mediaModal" class="custom-modal">
        <div class="custom-modal-content">
            <span class="close-modal-btn" id="closeMediaModalBtn">&times;</span>
            <h2>Inserir Mídia</h2>

            <div class="tabs-container">
                <button type="button" class="tab-btn active" data-tab="simpleImageTab">
                    <i class="fas fa-image"></i> Imagem Simples
                </button>
                <button type="button" class="tab-btn" data-tab="carouselTab">
                    <i class="fas fa-images"></i> Carrossel
                </button>
                <button type="button" class="tab-btn" data-tab="videoTab">
                    <i class="fas fa-video"></i> Vídeo
                </button>
            </div>

            <div class="tab-content" id="simpleImageTab">
                <form id="simpleImageForm" class="tab-form">
                    <label for="imgUrl">URL da Imagem:</label>
                    <input type="url" id="imgUrl" required>
    
                    <label for="imgAlt">Texto Alternativo (Alt Text):</label>
                    <input type="text" id="imgAlt" required>
    
                    <label for="imgCaption">Legenda (Opcional):</label>
                    <input type="text" id="imgCaption" placeholder="Ex: Foto por Artista Famoso">
    
                    <label for="imgAlignment">Alinhamento (CSS Personalizado):</label>
                    <select id="imgAlignment">
                        <option value="align-none">Nenhum (Padrão)</option>
                        <option value="align-center">Centralizado</option>
                        <option value="align-left">Esquerda (com texto ao lado)</option>
                        <option value="align-right">Direita (com texto ao lado)</option>
                    </select>
                    
                    <button type="submit" class="submit-modal-btn">Inserir Imagem</button>
                </form>
            </div>

            <div class="tab-content" id="carouselTab" style="display: none;">
                <p>Insira uma URL por linha para criar um **Carrossel/Galeria de Imagens horizontal** no post.</p>
                <form id="carouselForm" class="tab-form">
                    <label for="carouselUrls">URLs das Imagens:</label>
                    <textarea id="carouselUrls" rows="6" placeholder="https://seusite.com/img1.jpg
https://seusite.com/img2.jpg
https://seusite.com/img3.jpg"></textarea>
                    <button type="submit" class="submit-modal-btn">Inserir Carrossel</button>
                </form>
            </div>

            <div class="tab-content" id="videoTab" style="display: none;">
                <p>Insira a URL de um vídeo do **YouTube** ou um link direto de arquivo de vídeo. O YouTube será convertido para um player responsivo.</p>
                <form id="videoForm" class="tab-form">
                    <label for="videoUrl">URL do Vídeo:</label>
                    <input type="url" id="videoUrl" placeholder="Ex: https://www.youtube.com/watch?v=...">
                    <button type="submit" class="submit-modal-btn">Inserir Vídeo</button>
                </form>
            </div>

            <p id="mediaModalMessage" class="modal-message" style="display: none;"></p>
        </div>
    </div>
    
    <div id="styleModal" class="custom-modal">
        <div class="custom-modal-content">
            <span class="close-modal-btn" id="closeStyleModalBtn">&times;</span>
            <h2>Estilo/CSS Personalizado (Avançado)</h2>

            <div class="tabs-container" style="margin-bottom: 20px;">
                <button type="button" class="tab-btn active" data-tab="style-shortcuts">
                    <i class="fas fa-magic"></i> Atalhos de Estilo
                </button>
                <button type="button" class="tab-btn" data-tab="style-code">
                    <i class="fas fa-code"></i> Inserir Código HTML/CSS
                </button>
            </div>

            <div class="tab-content" id="style-shortcuts">
                <p>Selecione o texto no editor e clique em um botão para aplicar um estilo pronto (que utiliza classes CSS predefinidas).</p>
                <div class="style-shortcuts-grid" style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 15px;">
                    <button type="button" class="style-shortcut-btn" data-style-tag="highlight-blue" title="Destaque Azul">
                        <i class="fas fa-bullhorn"></i> Destaque Azul
                    </button>
                    <button type="button" class="style-shortcut-btn" data-style-tag="warning-yellow" title="Aviso Amarelo">
                        <i class="fas fa-exclamation-triangle"></i> Aviso Amarelo
                    </button>
                    <button type="button" class="style-shortcut-btn" data-style-tag="success-green" title="Sucesso Verde">
                        <i class="fas fa-check-circle"></i> Sucesso Verde
                    </button>
                    <button type="button" class="style-shortcut-btn" data-style-tag="center-text" title="Centralizar Texto">
                        <i class="fas fa-align-center"></i> Centralizar Texto
                    </button>
                    <button type="button" class="style-shortcut-btn" data-style-tag="large-text" title="Texto Grande">
                        <i class="fas fa-text-height"></i> Texto Grande
                    </button>
                </div>
            </div>

            <div class="tab-content" id="style-code" style="display: none;">
                <form id="customCodeForm" class="tab-form">
                    <label for="customHtmlCode">Selecione o texto no editor e insira a **tag de abertura e fechamento** com seu código HTML/CSS/Inline Style:</label>
                    <textarea id="customHtmlCode" rows="10" 
                        placeholder="Exemplo de tag com estilo inline:
<span style='color: red; font-weight: bold;'>
Texto selecionado
</span>

Exemplo de div personalizada:
<div style='background-color: #eee; padding: 15px; border-left: 5px solid #0a66c2;'>
Texto selecionado
</div>"></textarea>
                    <button type="submit" class="submit-modal-btn">Inserir Código Personalizado</button>
                </form>
            </div>
            
            <p id="styleModalMessage" class="modal-message" style="display: none;"></p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="assets/js/main-script.js"></script>
</body>

</html>